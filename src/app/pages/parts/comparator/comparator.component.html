<div id="wrapper">
  <mat-form-field>
    <mat-label>Choose part category</mat-label>
    <mat-select [(value)]="selectedCategory" (selectionChange)="changeCategory()">
      <mat-option [value]="'CPU'">CPU</mat-option>
      <mat-option [value]="'GPU'">GPU</mat-option>
      <mat-option [value]="'RAM'">RAM</mat-option>
      <mat-option [value]="'Motherboard'">Motherboard</mat-option>
      <mat-option [value]="'PSU'">PSU</mat-option>
      <mat-option [value]="'Case'">Case</mat-option>
      <mat-option [value]="'Drive'">Drive</mat-option>
    </mat-select>
  </mat-form-field>

  <form>
    <mat-form-field>
      <mat-select [(value)]="selectedPart1" (selectionChange)="partChange()">
        <mat-option *ngFor="let part of pcPartsComparator" [value]="part">{{part.name}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-select [(value)]="selectedPart2" (selectionChange)="partChange()">
        <mat-option *ngFor="let part of pcPartsComparator" [value]="part">{{part.name}}</mat-option>
      </mat-select>
    </mat-form-field>
    <br>
    <button mat-raised-button color="primary" (click)="showComparisonData()">Compare</button>
  </form>
  <div class="compare-table" *ngIf="showComparison">
    <div class="cpu-comp" *ngIf="selectedCategory === 'CPU'">
      <table mat-table [dataSource]="compareCPUs()">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name</th>
          <td mat-cell *matCellDef="let cpu"> {{cpu?.name}} </td>
        </ng-container>
        <ng-container matColumnDef="clockSpeed">
          <th mat-header-cell *matHeaderCellDef> Clockspeed</th>
          <td mat-cell *matCellDef="let cpu"> {{cpu?.clockSpeed}} </td>
        </ng-container>
        <ng-container matColumnDef="cores">
          <th mat-header-cell *matHeaderCellDef> Cores</th>
          <td mat-cell *matCellDef="let cpu"> {{cpu?.cores}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayColumnsCPU"></tr>
        <tr mat-row *matRowDef="let row; columns: displayColumnsCPU;"></tr>
      </table>
    </div>
    <div class="gpu-comp" *ngIf="selectedCategory === 'GPU'">
      <table mat-table [dataSource]="compareGPUs()">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name</th>
          <td mat-cell *matCellDef="let gpu"> {{gpu?.name}} </td>
        </ng-container>
        <ng-container matColumnDef="clockSpeed">
          <th mat-header-cell *matHeaderCellDef>Clockspeed(Mhz)</th>
          <td mat-cell *matCellDef="let gpu"> {{gpu?.clockSpeed}} </td>
        </ng-container>
        <ng-container matColumnDef="memory">
          <th mat-header-cell *matHeaderCellDef>Memory size(GB)</th>
          <td mat-cell *matCellDef="let gpu"> {{gpu?.memorySize}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayColumnsGPU"></tr>
        <tr mat-row *matRowDef="let row; columns: displayColumnsGPU;"></tr>
      </table>
    </div>
    <div class="motherboard-comp" *ngIf="selectedCategory === 'Motherboard'">
      <table mat-table [dataSource]="compareMotherboards()">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name</th>
          <td mat-cell *matCellDef="let mb"> {{mb?.name}} </td>
        </ng-container>
        <ng-container matColumnDef="ramNumbers">
          <th mat-header-cell *matHeaderCellDef>Number of RAMs</th>
          <td mat-cell *matCellDef="let mb"> {{mb?.ramNumbers}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayColumnsMotherboard"></tr>
        <tr mat-row *matRowDef="let row; columns: displayColumnsMotherboard;"></tr>
      </table>
    </div>
    <div class="ram-comp" *ngIf="selectedCategory === 'RAM'">
      <table mat-table [dataSource]="compareRAMs()">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let ram"> {{ram?.name}} </td>
        </ng-container>
        <ng-container matColumnDef="size">
          <th mat-header-cell *matHeaderCellDef>Memory size(GB)</th>
          <td mat-cell *matCellDef="let ram"> {{ram?.size}} </td>
        </ng-container>
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef>Socket type</th>
          <td mat-cell *matCellDef="let ram"> {{ram?.type}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayColumnsRAM"></tr>
        <tr mat-row *matRowDef="let row; columns: displayColumnsRAM;"></tr>
      </table>
    </div>
    <div class="psu-comp" *ngIf="selectedCategory === 'PSU'">
      <table mat-table [dataSource]="comparePSUs()">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name</th>
          <td mat-cell *matCellDef="let psu"> {{psu?.name}} </td>
        </ng-container>
        <ng-container matColumnDef="voltage">
          <th mat-header-cell *matHeaderCellDef>Voltage</th>
          <td mat-cell *matCellDef="let psu"> {{psu?.voltage}} </td>
        </ng-container>
        <ng-container matColumnDef="output">
          <th mat-header-cell *matHeaderCellDef>Output(W)</th>
          <td mat-cell *matCellDef="let psu"> {{psu?.output}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayColumnsPSU"></tr>
        <tr mat-row *matRowDef="let row; columns: displayColumnsPSU;"></tr>
      </table>
    </div>
    <div class="drive-comp" *ngIf="selectedCategory === 'Drive'">
      <table mat-table [dataSource]="compareDrives()">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name</th>
          <td mat-cell *matCellDef="let drive"> {{drive?.name}} </td>
        </ng-container>
        <ng-container matColumnDef="size">
          <th mat-header-cell *matHeaderCellDef>Size(GB)</th>
          <td mat-cell *matCellDef="let drive"> {{drive?.size}} </td>
        </ng-container>
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef>Type</th>
          <td mat-cell *matCellDef="let drive"> {{drive?.type}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayColumnsDrive"></tr>
        <tr mat-row *matRowDef="let row; columns: displayColumnsDrive;"></tr>
      </table>
    </div>
    <div class="gpu-comp" *ngIf="selectedCategory === 'Case'">
      <table mat-table [dataSource]="compareCases()">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name</th>
          <td mat-cell *matCellDef="let case"> {{case?.name}} </td>
        </ng-container>
        <ng-container matColumnDef="length">
          <th mat-header-cell *matHeaderCellDef>Length</th>
          <td mat-cell *matCellDef="let case"> {{case?.length}} </td>
        </ng-container>
        <ng-container matColumnDef="width">
          <th mat-header-cell *matHeaderCellDef>Width</th>
          <td mat-cell *matCellDef="let case"> {{case?.width}} </td>
        </ng-container>
        <ng-container matColumnDef="height">
          <th mat-header-cell *matHeaderCellDef>Height</th>
          <td mat-cell *matCellDef="let case"> {{case?.height}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayColumnsCase"></tr>
        <tr mat-row *matRowDef="let row; columns: displayColumnsCase;"></tr>
      </table>
    </div>
  </div>
</div>
